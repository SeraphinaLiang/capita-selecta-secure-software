#include <stdio.h>
#include <stdint.h>

#include "interrupts.h"

void smash_this()
{
    char buf[128] = {0,};
    gets(buf);
    
    //printf("%p\n", (void *) &buf);  //0x80019318
   // printf("%p\n",puts);   0x80000b30

    printf("stdin: ");

    for (size_t i = 0; buf[i] != 0; ++i)
        printf("%02x ", buf[i]);

    printf("\n");
}

int main()
{
    enable_interrupts();
    // set(key)
    asm("li x7,0xabcd");
    asm(".word 0b00000000000000111000000000101011");
    smash_this();
    // set(0)
    asm("li x7,0x0000");
    asm(".word 0b00000000000000111000000000101011");
}
